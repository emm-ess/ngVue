!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("angular"),require("vue")):"function"==typeof define&&define.amd?define("ngVue",["exports","angular","vue"],n):n(e.ngVue=e.ngVue||{},e.angular,e.Vue)}(this,function(e,v,O){"use strict";var k="default"in v?v.default:v;O="default"in O?O.default:O;var u=/^(attrs|props|on|nativeOn|class|style|hook)$/,j=function(e){return e.reduce(function(e,n){var t,r,i,o,a;for(i in n)if(t=e[i],r=n[i],t&&u.test(i))if("class"===i&&("string"==typeof t&&(a=t,e[i]=t={},t[a]=!0),"string"==typeof r&&(a=r,n[i]=r={},r[a]=!0)),"on"===i||"nativeOn"===i||"hook"===i)for(o in r)t[o]=s(t[o],r[o]);else if(Array.isArray(t))e[i]=t.concat(r);else if(Array.isArray(r))e[i]=[t].concat(r);else for(o in r)t[o]=r[o];else e[i]=n[i];return e},{})};function s(e,n){return function(){e&&e.apply(this,arguments),n&&n.apply(this,arguments)}}function E(e,i){var o={props:"vProps",data:"vData",on:"vOn"}[e],n=new RegExp(o,"i"),t=i[o];if(k.isDefined(t))return t;var r,a=void 0;if(0===(a="htmlAttributes"===e?(r=i,Object.keys(r).filter(function(e){var n=/^(vProps|vData|vOn|vDirectives|watchDepth|ng)/i.test(e),t="$"===e[0];return!n&&!t&&"class"!==e&&"style"!==e})):Object.keys(i).filter(function(e){return n.test(e)})).length)return null;var u={};return a.forEach(function(e){if(o){var n=function(e,n){if(!new RegExp("^"+n).test(e))return null;var t,r=e.slice(n.length);return(t=r).charAt(0).toLowerCase()+t.slice(1)}(e,o);if(!n)return;u[n]=i[e],"vOn"===o&&(u[n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()]=i[e])}else{var t=i.$attr[e],r=void 0;r=""===i[e]?"'"+e+"'":i[e],u[t]=r}}),u}var V=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)};function p(t,r){return function(e){var n=e;r&&(n=v.isArray(e)?[].concat(i(e)):v.isObject(e)?V({},e):e),t(n)}}function D(e,n,t,r,i){var o=void 0;if("props"===i?o=e.props?e.props:e.data:"attrs"===i&&(o=e.htmlAttributes),o){var a,u,s,c=t.depth,f=t.quirk,l=(a=o,u=n,s=i,function(n){v.isString(a)?n(a,O.set.bind(O,u._v,s)):Object.keys(a).forEach(function(e){n(a[e],O.set.bind(O,u._v[s],e))})});switch(c){case"value":l(function(e,n){r.$watch(e,p(n,f),!0)});break;case"collection":l(function(e,n){r.$watchCollection(e,p(n,f))});break;case"reference":default:l(function(e,n){r.$watch(e,p(n,f))})}}}function x(n,t){if(!n)return null;if(k.isString(n))return t.$eval(n);var r={};return Object.keys(n).forEach(function(e){r[e]=t.$eval(n[e])}),r}var C={Object:function(e){return[e]},Array:function(e){return e},String:function(e){return e.split(/\s*,\s*/g).filter(Boolean).map(function(e){return{name:e}})}};var P=["class","style"];function o(e,i,n,t,r){if(!i.parent().length)throw new Error("ngVue components must have a parent tag or they will not render");var o,a,u,s,c=r.has("$ngVue")?r.get("$ngVue"):null,f={data:E("data",o=n),props:E("props",o),events:E("on",o),htmlAttributes:E("htmlAttributes",o)},l=(a=e,u=r,k.isFunction(a)?a:u.get(a)),v=function(e,n){var t=e.vDirectives;if(k.isUndefined(t))return null;var r=n.$eval(t),i=C[r.constructor.name];return i?i(r):null}(n,t)||[],p={_v:{props:x(f.props||f.data,t)||{},attrs:x(f.htmlAttributes,t)||{},special:(s=n,P.reduce(function(e,n){var t=s[n];return(t||s[s.$normalize("ng-"+n)])&&(e[n]=t),e},{}))}},d=function(e,t){var r=e.events;if(!r||!k.isObject(r))return null;var i={};return Object.keys(r).forEach(function(e){i[e]=t.$eval(r[e]);var n=i[e];k.isFunction(n)&&(i[e]=function(){var e=arguments;return t.$evalAsync(function(){return n.apply(null,e)})})}),i}(f,t)||{},h=!!c&&c.inQuirkMode(),y=c?c.getRootProps():{},g=c&&c.getDefaultParent(),m=y.mounted;y.mounted=function(){var e=i[0];if(e.innerHTML.trim()){var n=void 0;if(0===e.children.length){var t=document.createElement("span");t.innerHTML=e.innerHTML.trim(),n=t}else n=e.children[0];var r=this.$refs.__slot__;r.parentNode.replaceChild(n,r)}k.isFunction(m)&&m.apply(this,arguments)};var b,$,w,_={depth:n.watchDepth,quirk:h};D(f,p,_,t,"props"),D(f,p,_,t,"attrs"),b=p,$=i,w=t,Object.keys(b._v.special).forEach(function(n){w.$watch(function(){return $.attr(n)},function(e){O.set(b._v.special,n,e)})});var A=new O(V({name:"NgVue",el:i[0],data:p,parent:g,render:function(e){return e(l,j([{directives:v},{props:p._v.props,on:d,attrs:p._v.attrs},p._v.special]),[e("span",{ref:"__slot__"})])}},y));t.$on("$destroy",function(){A.$destroy(),k.element(A.$el).remove(),A=null})}var n="undefined"!=typeof process&&void 0!==process.env&&("test"===process.env.BABEL_ENV||"production"===process.env.NODE_ENV),t="undefined"==typeof console||"function"!=typeof console.warn||n?void 0:console.warn.bind(console),r={warn:"function"==typeof t?t:function(){}};var a=k.module("ngVue",[]).run(function(){r.warn("camelCase syntax for events name (in $emit function) will be deprecated in a future release.\nPlease, make sure to use kebab-case syntax when emitting events from Vue.")}).directive("vueComponent",["$injector",function(r){return{restrict:"E",link:function(e,n,t){o(t.name,n,t,e,r)}}}]).factory("createVueComponent",["$injector",function(i){return function(r,e){var n={restrict:"E",link:function(e,n,t){o(r,n,t,e,i)}};return k.extend(n,e)}}]);e.ngVue=a,Object.defineProperty(e,"__esModule",{value:!0})});
